# Story 1.3: Set Up Contentful CMS and Define Content Models

## Status
**Approved**

---

## Story

**As a** content manager,
**I want** a Contentful space configured with content models for articles, images, and products,
**so that** I can manage website content without modifying code.

---

## Acceptance Criteria

1. Contentful account created with free tier space
2. Content model created for "Article" with fields: title (short text), slug (short text), category (short text), excerpt (long text), content (rich text), featuredImage (media), publishDate (date)
3. Content model created for "Product Recommendation" with fields: name (short text), description (long text), category (short text), imageUrl (short text), affiliateLink (short text), rationale (long text)
4. Content model created for "Gallery Image" with fields: title (short text), image (media), caption (long text), category (short text)
5. At least 2 sample articles created in Contentful for testing
6. Contentful API keys (Space ID, Access Token) generated and documented
7. API keys stored in `.env.local` file (not committed to Git)

---

## Tasks / Subtasks

- [ ] Create Contentful account and space (AC: 1)
  - [ ] Go to https://www.contentful.com/ and sign up for free account
  - [ ] Create new space named "Cat Care Hub"
  - [ ] Select "I create content" as space type
  - [ ] Skip template selection (we'll create custom models)
  - [ ] Note the Space ID from space settings

- [ ] Create "Article" content model (AC: 2)
  - [ ] In Contentful UI: Content model → Add content type
  - [ ] Name: "Article", API Identifier: "article"
  - [ ] Add fields:
    - [ ] title (Short text, required, max 100 chars)
    - [ ] slug (Short text, required, unique, max 100 chars)
    - [ ] category (Short text, required, validation: care-tasks|behavior|general)
    - [ ] excerpt (Long text, required, max 200 chars)
    - [ ] content (Rich text, required)
    - [ ] featuredImage (Media, required, one file, Images only)
    - [ ] publishDate (Date and time, required)
  - [ ] Save and publish content model

- [ ] Create "Product Recommendation" content model (AC: 3)
  - [ ] In Contentful UI: Content model → Add content type
  - [ ] Name: "Product Recommendation", API Identifier: "productRecommendation"
  - [ ] Add fields:
    - [ ] name (Short text, required, max 100 chars)
    - [ ] description (Long text, required, max 300 chars)
    - [ ] category (Short text, required)
    - [ ] imageUrl (Short text, optional, for external images)
    - [ ] affiliateLink (Short text, required, URL validation)
    - [ ] rationale (Long text, required, max 200 chars)
  - [ ] Save and publish content model

- [ ] Create "Gallery Image" content model (AC: 4)
  - [ ] In Contentful UI: Content model → Add content type
  - [ ] Name: "Gallery Image", API Identifier: "galleryImage"
  - [ ] Add fields:
    - [ ] title (Short text, required, max 100 chars)
    - [ ] image (Media, required, one file, Images only)
    - [ ] caption (Long text, required, max 300 chars)
    - [ ] category (Short text, required)
  - [ ] Save and publish content model

- [ ] Create sample content (AC: 5)
  - [ ] Create Article 1:
    - Title: "How to Trim Your Cat's Nails Safely"
    - Slug: "how-to-trim-cat-nails"
    - Category: "care-tasks"
    - Excerpt: "Learn the proper technique for trimming your cat's nails without stress or injury."
    - Content: Write 2-3 paragraphs about nail trimming (or use placeholder text)
    - Upload featured image (or use placeholder from unsplash.com)
    - Publish date: Today's date
    - **Publish the entry**
  - [ ] Create Article 2:
    - Title: "Understanding Cat Body Language"
    - Slug: "understanding-cat-body-language"
    - Category: "behavior"
    - Excerpt: "Decode your cat's tail positions, ear movements, and vocalizations."
    - Content: Write 2-3 paragraphs about cat behavior (or use placeholder text)
    - Upload featured image (or use placeholder)
    - Publish date: Today's date
    - **Publish the entry**

- [ ] Generate API keys (AC: 6)
  - [ ] Go to Settings → API keys
  - [ ] Click "Add API key" → Create "Development" key
  - [ ] Copy **Space ID**
  - [ ] Copy **Content Delivery API - access token**
  - [ ] Copy **Content Preview API - access token** (optional for MVP)
  - [ ] Document these in a secure location

- [ ] Store API keys in environment file (AC: 7)
  - [ ] Create `apps/web/.env.local` file (if not exists)
  - [ ] Add keys:
    ```
    CONTENTFUL_SPACE_ID=your_actual_space_id
    CONTENTFUL_ACCESS_TOKEN=your_actual_delivery_token
    CONTENTFUL_PREVIEW_ACCESS_TOKEN=your_actual_preview_token
    ```
  - [ ] Verify `.env.local` is in `.gitignore` (should be from Story 1.1)
  - [ ] Test: Run `cat apps/web/.env.local` to verify file exists
  - [ ] **DO NOT commit this file to Git**

- [ ] Final verification
  - [ ] Verify all 3 content models exist and are published
  - [ ] Verify 2 articles are published in Contentful
  - [ ] Verify API keys are stored in .env.local
  - [ ] Verify .env.local is NOT in Git (run: `git status`)

---

## Dev Notes

### Contentful Free Tier Limits

**What you get for FREE:**
- 25,000 records (entries/assets)
- 1,000,000 API calls per month
- 5 users
- 2 locales
- Unlimited content types

**This is more than enough for the MVP!**

### Content Model Field Details

#### Article Content Model

| Field Name | Field Type | Required | Validation | Notes |
|------------|------------|----------|------------|-------|
| title | Short text | Yes | Max 100 chars | Article title |
| slug | Short text | Yes | Unique, lowercase, no spaces | URL identifier |
| category | Short text | Yes | One of: care-tasks, behavior, general | For filtering |
| excerpt | Long text | Yes | Max 200 chars | Card preview text |
| content | Rich text | Yes | - | Full article body |
| featuredImage | Media | Yes | Images only | Article hero image |
| publishDate | Date & time | Yes | - | For sorting |

**Sample Article Data:**

```
Title: How to Trim Your Cat's Nails Safely
Slug: how-to-trim-cat-nails
Category: care-tasks
Excerpt: Learn the proper technique for trimming your cat's nails without stress or injury. This guide covers tools, positioning, and safety tips.
Content:
Trimming your cat's nails is an essential part of cat care...

[Write 2-3 paragraphs or use Lorem Ipsum for testing]

publishDate: 2025-10-19
```

#### Product Recommendation Content Model

| Field Name | Field Type | Required | Validation | Notes |
|------------|------------|----------|------------|-------|
| name | Short text | Yes | Max 100 chars | Product name |
| description | Long text | Yes | Max 300 chars | Product description |
| category | Short text | Yes | - | grooming, toys, health, etc. |
| imageUrl | Short text | No | URL format | External image link |
| affiliateLink | Short text | Yes | URL format | Purchase link |
| rationale | Long text | Yes | Max 200 chars | Why recommended |

#### Gallery Image Content Model

| Field Name | Field Type | Required | Validation | Notes |
|------------|------------|----------|------------|-------|
| title | Short text | Yes | Max 100 chars | Image title |
| image | Media | Yes | Images only | The photo |
| caption | Long text | Yes | Max 300 chars | Description |
| category | Short text | Yes | - | care-techniques, behaviors, general |

### Finding Free Cat Images

For sample content, use these free image sources:
- https://unsplash.com/s/photos/cat
- https://www.pexels.com/search/cat/
- Use search terms: "cat grooming", "cat nails", "cat behavior"

### API Key Security

**IMPORTANT:**
- ✅ Store in `.env.local` (ignored by Git)
- ✅ Use in code via `process.env.CONTENTFUL_SPACE_ID`
- ❌ Never commit to Git
- ❌ Never share publicly
- ❌ Never hardcode in source files

### Contentful UI Navigation

- **Content models:** Content model tab (top)
- **Create content:** Content tab → Add entry
- **API keys:** Settings (top right) → API keys
- **Space ID:** Settings → General settings

### Testing

**Manual Testing:**
- Verify you can see content models in Contentful UI
- Verify you can create and publish articles
- Verify API keys are valid (copy/paste successful)
- Verify .env.local file contains correct keys

**No automated tests required** - this is CMS configuration

### Important Notes

- **This story is mostly manual work in Contentful UI**
- **No code changes** - just CMS setup and configuration
- **Developer should create Contentful account** (free, no credit card)
- **Sample content can use placeholder text/images**
- **Story 1.4 will connect this CMS to Next.js**

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-19 | 1.0 | Initial story creation | John (PM Agent) |

---

## Dev Agent Record

### Agent Model Used
*To be populated by dev agent*

### Debug Log References
*To be populated by dev agent*

### Completion Notes List
*To be populated by dev agent*

### File List
*To be populated by dev agent*

---

## QA Results

*To be populated by QA agent*
