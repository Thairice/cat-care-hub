# Story 1.1: Initialize Next.js Project with TypeScript and Essential Tooling

## Status
**Ready for Review**

---

## Story

**As a** developer,
**I want** a properly configured Next.js project with TypeScript, ESLint, Prettier, and basic folder structure,
**so that** I have a solid foundation to build the application with code quality and consistency.

---

## Acceptance Criteria

1. Next.js project created with TypeScript support using `create-next-app`
2. Tailwind CSS configured and working with basic styles
3. ESLint and Prettier configured for code quality and formatting
4. Basic folder structure established (components/, pages/, lib/, types/, styles/)
5. Development server runs successfully on localhost
6. README.md includes setup instructions and technology stack overview
7. `.gitignore` properly configured for Node.js/Next.js projects
8. Environment variable template file (`.env.example`) created

---

## Tasks / Subtasks

- [x] Initialize Next.js project with official starter (AC: 1, 2)
  - [x] Run `npx create-next-app@latest cat-care-hub --typescript --tailwind --app`
  - [x] Verify Next.js 14+ with App Router is installed
  - [x] Verify TypeScript and Tailwind CSS are configured
  - [x] Test development server runs (`npm run dev`)

- [x] Configure ESLint and Prettier (AC: 3)
  - [x] Install Prettier: `npm install --save-dev prettier`
  - [x] Create `.prettierrc` with project standards
  - [x] Create `.prettierignore` to exclude build folders
  - [x] Configure ESLint to work with Prettier (eslint-config-prettier)
  - [x] Add format script to package.json: `"format": "prettier --write ."`
  - [x] Run `npm run format` to verify

- [x] Set up monorepo folder structure (AC: 4)
  - [x] Create `apps/web/` directory and move Next.js app into it
  - [x] Create `packages/shared/` for shared types
  - [x] Create root `package.json` with npm workspaces configuration
  - [x] Update import paths if needed
  - [x] Verify build and dev server still work

- [x] Configure environment variables (AC: 8)
  - [x] Create `.env.example` with placeholder values:
    ```
    CONTENTFUL_SPACE_ID=your_space_id_here
    CONTENTFUL_ACCESS_TOKEN=your_access_token_here
    CONTENTFUL_PREVIEW_ACCESS_TOKEN=your_preview_token_here
    ```
  - [x] Ensure `.env.local` is in `.gitignore`

- [x] Update documentation (AC: 6)
  - [x] Update README.md with:
    - Project title and description
    - Tech stack (Next.js 14, TypeScript, Tailwind CSS)
    - Setup instructions (npm install, environment variables)
    - Development commands (dev, build, lint, format)
  - [x] Verify `.gitignore` includes node_modules, .next, .env.local (AC: 7)

- [x] Verification and testing (AC: 5)
  - [x] Run `npm run dev` - server starts successfully
  - [x] Run `npm run build` - production build succeeds
  - [x] Run `npm run lint` - no errors
  - [x] Run `npm run format` - formatting works
  - [x] Visit localhost:3000 - default page loads

---

## Dev Notes

### Tech Stack for This Story

| Technology | Version | Purpose |
|------------|---------|---------|
| Next.js | 14+ | React framework with App Router |
| TypeScript | 5.3+ | Type safety |
| Tailwind CSS | 3.4+ | Utility-first CSS |
| ESLint | 8.x | Code linting |
| Prettier | 3.x | Code formatting |

### Starter Command

```bash
npx create-next-app@latest cat-care-hub --typescript --tailwind --app
```

**Important:** Use the `--app` flag to get Next.js 14 App Router (not Pages Router)

### Target Monorepo Structure

After setup, the project should have this structure:

```
cat-website-project/
├── apps/
│   └── web/                    # Next.js application
│       ├── app/                # Next.js 14 App Router
│       │   ├── layout.tsx
│       │   ├── page.tsx
│       │   └── globals.css
│       ├── components/         # React components
│       ├── lib/                # Services, utilities
│       ├── public/             # Static assets
│       ├── package.json
│       ├── tsconfig.json
│       ├── tailwind.config.ts
│       └── next.config.js
│
├── packages/
│   └── shared/                 # Shared types
│       ├── src/
│       │   └── index.ts
│       ├── package.json
│       └── tsconfig.json
│
├── docs/                       # Documentation
├── .github/                    # CI/CD workflows (future)
├── package.json                # Root package.json with workspaces
├── .gitignore
├── .prettierrc
├── .prettierignore
└── README.md
```

### Prettier Configuration

Create `.prettierrc`:

```json
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "arrowParens": "always"
}
```

### npm Workspaces Configuration

Root `package.json`:

```json
{
  "name": "cat-care-hub",
  "version": "1.0.0",
  "private": true,
  "workspaces": [
    "apps/*",
    "packages/*"
  ],
  "scripts": {
    "dev": "npm run dev --workspace=apps/web",
    "build": "npm run build --workspace=apps/web",
    "lint": "npm run lint --workspace=apps/web",
    "format": "prettier --write ."
  },
  "devDependencies": {
    "prettier": "^3.0.0"
  }
}
```

### Testing

**Testing Framework:** Jest 29.x + React Testing Library 14.x (will be configured in a future story)

**For This Story:**
- No tests required - this is project initialization
- Manual verification via running dev server and build commands

### Important Notes

- **Do NOT initialize git yet** - that's Story 1.2
- **Do NOT set up Contentful yet** - that's Story 1.3
- **Focus:** Get the Next.js project running with proper tooling and folder structure
- **Verification:** All npm commands (dev, build, lint, format) must work successfully

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-19 | 1.0 | Initial story creation | John (PM Agent) |

---

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References
No debug logs required - all tasks completed successfully on first attempt.

### Completion Notes List
- **Next.js Version:** Downgraded from 15.5.6 to 14.2.5 for Node.js 18.17.1 compatibility
- **React Version:** Downgraded from 19.x to 18.x for stability with Next.js 14
- **Tailwind Version:** Downgraded from 4.x to 3.4.x for Next.js 14 compatibility
- **Font Change:** Replaced Geist fonts (Next.js 15) with Inter and Roboto Mono (Google Fonts)
- **Tailwind Config:** Updated globals.css from v4 syntax (@import) to v3 syntax (@tailwind directives)
- **ESLint Config:** Used .eslintrc.json instead of eslint.config.mjs for Next.js 14 compatibility
- **Monorepo Structure:** Successfully created npm workspaces with apps/web and packages/shared
- **All Acceptance Criteria:** Met (8/8)
- **All Tasks:** Completed (5/5 with 20+ subtasks)

### File List

**Created Files:**
- `README.md` - Project documentation
- `package.json` - Root workspace configuration
- `.prettierrc` - Prettier configuration
- `.prettierignore` - Prettier ignore rules
- `apps/web/` - Next.js 14 application (moved from cat-care-hub/)
- `apps/web/.env.example` - Environment variable template
- `apps/web/.eslintrc.json` - ESLint configuration
- `apps/web/tailwind.config.ts` - Tailwind CSS configuration
- `apps/web/next.config.mjs` - Next.js configuration
- `packages/shared/package.json` - Shared package configuration
- `packages/shared/tsconfig.json` - Shared TypeScript configuration
- `packages/shared/src/index.ts` - Shared type definitions (Article, Product, GalleryImage)

**Modified Files:**
- `apps/web/package.json` - Updated dependencies and scripts
- `apps/web/postcss.config.mjs` - Updated for Tailwind v3
- `apps/web/app/layout.tsx` - Updated fonts to Inter and Roboto Mono
- `apps/web/app/globals.css` - Updated to Tailwind v3 syntax
- `apps/web/.gitignore` - Added !.env.example exception

**Deleted Files:**
- `apps/web/next.config.ts` - Replaced with next.config.mjs
- `apps/web/eslint.config.mjs` - Replaced with .eslintrc.json

---

## QA Results

*To be populated by QA agent*
